import{R as r,r as Q,j as U}from"./iframe-CIRVnMV3.js";import{R as Ee,T as xe,P as Oe,C as Ce,O as $e,a as Ne,D as Ae}from"./index-vsuI5p-E.js";import{c as yt}from"./utils-CytzSlOG.js";import{B as Pe}from"./button-CaMZxS5c.js";import"./index-DW48STyt.js";import"./index-Dlr_UOgm.js";import"./index-DTvcxu3I.js";import"./index-DmcyR5on.js";import"./index-BaryZGho.js";import"./index-BfZZhRAD.js";import"./index-DNasehMi.js";import"./index-h_FE7HgR.js";import"./index-D-AeSXa4.js";import"./index-CGYSHY19.js";import"./index-BTR-YX_n.js";import"./index-bAptC-Xc.js";import"./index-Dsv0rg3O.js";import"./index-BwobEAja.js";function Me(t){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",n.appendChild(e),e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}const Qt=r.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),dt=()=>{const t=r.useContext(Qt);if(!t)throw new Error("useDrawerContext must be used within a Drawer.Root");return t};Me(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,-100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(-100%,0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(100%,0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,100%,0)}}@keyframes slideFromTop{from{transform:translate3d(0,-100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,-100%,0)}}@keyframes slideFromLeft{from{transform:translate3d(-100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(-100%,0,0)}}@keyframes slideFromRight{from{transform:translate3d(100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(100%,0,0)}}`);const _e=24,Ie=typeof window<"u"?Q.useLayoutEffect:Q.useEffect;function Vt(...t){return(...n)=>{for(let e of t)typeof e=="function"&&e(...n)}}function He(){return Mt(/^Mac/)}function ke(){return Mt(/^iPhone/)}function Yt(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function Be(){return Mt(/^iPad/)||He()&&navigator.maxTouchPoints>1}function Zt(){return ke()||Be()}function Mt(t){return typeof window<"u"&&window.navigator!=null?t.test(window.navigator.platform):void 0}const Ot=typeof document<"u"&&window.visualViewport;function qt(t){let n=window.getComputedStyle(t);return/(auto|scroll)/.test(n.overflow+n.overflowX+n.overflowY)}function te(t){for(qt(t)&&(t=t.parentElement);t&&!qt(t);)t=t.parentElement;return t||document.scrollingElement||document.documentElement}const Le=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let ht=0,Ct;function je(t={}){let{isDisabled:n}=t;Ie(()=>{if(!n)return ht++,ht===1&&Zt()&&(Ct=Ue()),()=>{ht--,ht===0&&(Ct==null||Ct())}},[n])}function Ue(){let t,n=0,e=p=>{t=te(p.target),!(t===document.documentElement&&t===document.body)&&(n=p.changedTouches[0].pageY)},a=p=>{if(!t||t===document.documentElement||t===document.body){p.preventDefault();return}let w=p.changedTouches[0].pageY,H=t.scrollTop,F=t.scrollHeight-t.clientHeight;F!==0&&((H<=0&&w>n||H>=F&&w<n)&&p.preventDefault(),n=w)},i=p=>{let w=p.target;At(w)&&w!==document.activeElement&&(p.preventDefault(),w.style.transform="translateY(-2000px)",w.focus(),requestAnimationFrame(()=>{w.style.transform=""}))},o=p=>{let w=p.target;At(w)&&(w.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{w.style.transform="",Ot&&(Ot.height<window.innerHeight?requestAnimationFrame(()=>{Xt(w)}):Ot.addEventListener("resize",()=>Xt(w),{once:!0}))}))},h=()=>{window.scrollTo(0,0)},m=window.pageXOffset,S=window.pageYOffset,R=Vt(Fe(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let g=Vt(ut(document,"touchstart",e,{passive:!1,capture:!0}),ut(document,"touchmove",a,{passive:!1,capture:!0}),ut(document,"touchend",i,{passive:!1,capture:!0}),ut(document,"focus",o,!0),ut(window,"scroll",h));return()=>{R(),g(),window.scrollTo(m,S)}}function Fe(t,n,e){let a=t.style[n];return t.style[n]=e,()=>{t.style[n]=a}}function ut(t,n,e,a){return t.addEventListener(n,e,a),()=>{t.removeEventListener(n,e,a)}}function Xt(t){let n=document.scrollingElement||document.documentElement;for(;t&&t!==n;){let e=te(t);if(e!==document.documentElement&&e!==document.body&&e!==t){let a=e.getBoundingClientRect().top,i=t.getBoundingClientRect().top,o=t.getBoundingClientRect().bottom;const h=e.getBoundingClientRect().bottom+_e;o>h&&(e.scrollTop+=i-a)}t=e.parentElement}}function At(t){return t instanceof HTMLInputElement&&!Le.has(t.type)||t instanceof HTMLTextAreaElement||t instanceof HTMLElement&&t.isContentEditable}function We(t,n){typeof t=="function"?t(n):t!=null&&(t.current=n)}function ze(...t){return n=>t.forEach(e=>We(e,n))}function ee(...t){return Q.useCallback(ze(...t),t)}const ne=new WeakMap;function C(t,n,e=!1){if(!t||!(t instanceof HTMLElement))return;let a={};Object.entries(n).forEach(([i,o])=>{if(i.startsWith("--")){t.style.setProperty(i,o);return}a[i]=t.style[i],t.style[i]=o}),!e&&ne.set(t,a)}function Ve(t,n){if(!t||!(t instanceof HTMLElement))return;let e=ne.get(t);e&&(t.style[n]=e[n])}const $=t=>{switch(t){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return t}};function gt(t,n){if(!t)return null;const e=window.getComputedStyle(t),a=e.transform||e.webkitTransform||e.mozTransform;let i=a.match(/^matrix3d\((.+)\)$/);return i?parseFloat(i[1].split(", ")[$(n)?13:12]):(i=a.match(/^matrix\((.+)\)$/),i?parseFloat(i[1].split(", ")[$(n)?5:4]):null)}function Ye(t){return 8*(Math.log(t+1)-2)}function $t(t,n){if(!t)return()=>{};const e=t.style.cssText;return Object.assign(t.style,n),()=>{t.style.cssText=e}}function qe(...t){return(...n)=>{for(const e of t)typeof e=="function"&&e(...n)}}const x={DURATION:.5,EASE:[.32,.72,0,1]},re=.4,Xe=.25,Ke=100,ae=8,et=16,Pt=26,Nt="vaul-dragging";function oe(t){const n=r.useRef(t);return r.useEffect(()=>{n.current=t}),r.useMemo(()=>(...e)=>n.current==null?void 0:n.current.call(n,...e),[])}function Ge({defaultProp:t,onChange:n}){const e=r.useState(t),[a]=e,i=r.useRef(a),o=oe(n);return r.useEffect(()=>{i.current!==a&&(o(a),i.current=a)},[a,i,o]),e}function ie({prop:t,defaultProp:n,onChange:e=()=>{}}){const[a,i]=Ge({defaultProp:n,onChange:e}),o=t!==void 0,h=o?t:a,m=oe(e),S=r.useCallback(R=>{if(o){const p=typeof R=="function"?R(t):R;p!==t&&m(p)}else i(R)},[o,t,i,m]);return[h,S]}function Je({activeSnapPointProp:t,setActiveSnapPointProp:n,snapPoints:e,drawerRef:a,overlayRef:i,fadeFromIndex:o,onSnapPointChange:h,direction:m="bottom",container:S,snapToSequentialPoint:R}){const[g,p]=ie({prop:t,defaultProp:e==null?void 0:e[0],onChange:n}),[w,H]=r.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);r.useEffect(()=>{function d(){H({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[]);const F=r.useMemo(()=>g===(e==null?void 0:e[e.length-1])||null,[e,g]),O=r.useMemo(()=>e==null?void 0:e.findIndex(d=>d===g),[e,g]),z=e&&e.length>0&&(o||o===0)&&!Number.isNaN(o)&&e[o]===g||!e,f=r.useMemo(()=>{const d=S?{width:S.getBoundingClientRect().width,height:S.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var T;return(T=e==null?void 0:e.map(v=>{const _=typeof v=="string";let s=0;if(_&&(s=parseInt(v,10)),$(m)){const A=_?s:w?v*d.height:0;return w?m==="bottom"?d.height-A:-d.height+A:A}const P=_?s:w?v*d.width:0;return w?m==="right"?d.width-P:-d.width+P:P}))!=null?T:[]},[e,w,S]),k=r.useMemo(()=>O!==null?f==null?void 0:f[O]:null,[f,O]),N=r.useCallback(d=>{var T;const v=(T=f==null?void 0:f.findIndex(_=>_===d))!=null?T:null;h(v),C(a.current,{transition:`transform ${x.DURATION}s cubic-bezier(${x.EASE.join(",")})`,transform:$(m)?`translate3d(0, ${d}px, 0)`:`translate3d(${d}px, 0, 0)`}),f&&v!==f.length-1&&v!==o&&v<o?C(i.current,{transition:`opacity ${x.DURATION}s cubic-bezier(${x.EASE.join(",")})`,opacity:"0"}):C(i.current,{transition:`opacity ${x.DURATION}s cubic-bezier(${x.EASE.join(",")})`,opacity:"1"}),p(e==null?void 0:e[Math.max(v,0)])},[a.current,e,f,o,i,p]);r.useEffect(()=>{if(g||t){var d;const T=(d=e==null?void 0:e.findIndex(v=>v===t||v===g))!=null?d:-1;f&&T!==-1&&typeof f[T]=="number"&&N(f[T])}},[g,t,e,f,N]);function c({draggedDistance:d,closeDrawer:T,velocity:v,dismissible:_}){if(o===void 0)return;const s=m==="bottom"||m==="right"?(k??0)-d:(k??0)+d,P=O===o-1,A=O===0,B=d>0;if(P&&C(i.current,{transition:`opacity ${x.DURATION}s cubic-bezier(${x.EASE.join(",")})`}),!R&&v>2&&!B){_?T():N(f[0]);return}if(!R&&v>2&&B&&f&&e){N(f[e.length-1]);return}const L=f==null?void 0:f.reduce((j,Z)=>typeof j!="number"||typeof Z!="number"?j:Math.abs(Z-s)<Math.abs(j-s)?Z:j),G=$(m)?window.innerHeight:window.innerWidth;if(v>re&&Math.abs(d)<G*.4){const j=B?1:-1;if(j>0&&F){N(f[e.length-1]);return}if(A&&j<0&&_&&T(),O===null)return;N(f[O+j]);return}N(L)}function M({draggedDistance:d}){if(k===null)return;const T=m==="bottom"||m==="right"?k-d:k+d;(m==="bottom"||m==="right")&&T<f[f.length-1]||(m==="top"||m==="left")&&T>f[f.length-1]||C(a.current,{transform:$(m)?`translate3d(0, ${T}px, 0)`:`translate3d(${T}px, 0, 0)`})}function K(d,T){if(!e||typeof O!="number"||!f||o===void 0)return null;const v=O===o-1;if(O>=o&&T)return 0;if(v&&!T)return 1;if(!z&&!v)return null;const s=v?O+1:O-1,P=v?f[s]-f[s-1]:f[s+1]-f[s],A=d/Math.abs(P);return v?1-A:A}return{isLastSnapPoint:F,activeSnapPoint:g,shouldFade:z,getPercentageDragged:K,setActiveSnapPoint:p,activeSnapPointIndex:O,onRelease:c,onDrag:M,snapPointsOffset:f}}const Qe=()=>()=>{};function Ze(){const{direction:t,isOpen:n,shouldScaleBackground:e,setBackgroundColorOnScale:a,noBodyStyles:i}=dt(),o=r.useRef(null),h=Q.useMemo(()=>document.body.style.backgroundColor,[]);function m(){return(window.innerWidth-Pt)/window.innerWidth}r.useEffect(()=>{if(n&&e){o.current&&clearTimeout(o.current);const S=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!S)return;qe(a&&!i?$t(document.body,{background:"black"}):Qe,$t(S,{transformOrigin:$(t)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${x.DURATION}s`,transitionTimingFunction:`cubic-bezier(${x.EASE.join(",")})`}));const R=$t(S,{borderRadius:`${ae}px`,overflow:"hidden",...$(t)?{transform:`scale(${m()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${m()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{R(),o.current=window.setTimeout(()=>{h?document.body.style.background=h:document.body.style.removeProperty("background")},x.DURATION*1e3)}}},[n,e,h])}let ct=null;function tn({isOpen:t,modal:n,nested:e,hasBeenOpened:a,preventScrollRestoration:i,noBodyStyles:o}){const[h,m]=r.useState(()=>typeof window<"u"?window.location.href:""),S=r.useRef(0),R=r.useCallback(()=>{if(Yt()&&ct===null&&t&&!o){ct={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:p,innerHeight:w}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-S.current}px`,left:`${-p}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const H=w-window.innerHeight;H&&S.current>=w&&(document.body.style.top=`${-(S.current+H)}px`)}),300)}},[t]),g=r.useCallback(()=>{if(Yt()&&ct!==null&&!o){const p=-parseInt(document.body.style.top,10),w=-parseInt(document.body.style.left,10);Object.assign(document.body.style,ct),window.requestAnimationFrame(()=>{if(i&&h!==window.location.href){m(window.location.href);return}window.scrollTo(w,p)}),ct=null}},[h]);return r.useEffect(()=>{function p(){S.current=window.scrollY}return p(),window.addEventListener("scroll",p),()=>{window.removeEventListener("scroll",p)}},[]),r.useEffect(()=>{e||!a||(t?(!window.matchMedia("(display-mode: standalone)").matches&&R(),n||window.setTimeout(()=>{g()},500)):g())},[t,a,h,n,e,R,g]),{restorePositionSetting:g}}function en({open:t,onOpenChange:n,children:e,onDrag:a,onRelease:i,snapPoints:o,shouldScaleBackground:h=!1,setBackgroundColorOnScale:m=!0,closeThreshold:S=Xe,scrollLockTimeout:R=Ke,dismissible:g=!0,handleOnly:p=!1,fadeFromIndex:w=o&&o.length-1,activeSnapPoint:H,setActiveSnapPoint:F,fixed:O,modal:z=!0,onClose:f,nested:k,noBodyStyles:N,direction:c="bottom",defaultOpen:M=!1,disablePreventScroll:K=!0,snapToSequentialPoint:d=!1,preventScrollRestoration:T=!1,repositionInputs:v=!0,onAnimationEnd:_,container:s,autoFocus:P=!1}){var A,B;const[L=!1,G]=ie({defaultProp:M,prop:t,onChange:l=>{n==null||n(l),!l&&!k&&ge(),setTimeout(()=>{_==null||_(l)},x.DURATION*1e3),l&&!z&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),l||(document.body.style.pointerEvents="auto")}}),[j,Z]=r.useState(!1),[at,St]=r.useState(!1),[de,Ht]=r.useState(!1),nt=r.useRef(null),ft=r.useRef(null),Tt=r.useRef(null),Dt=r.useRef(null),mt=r.useRef(null),ot=r.useRef(!1),Rt=r.useRef(null),Et=r.useRef(0),rt=r.useRef(!1),kt=r.useRef(0),u=r.useRef(null),Bt=r.useRef(((A=u.current)==null?void 0:A.getBoundingClientRect().height)||0),Lt=r.useRef(((B=u.current)==null?void 0:B.getBoundingClientRect().width)||0),xt=r.useRef(0),fe=r.useCallback(l=>{o&&l===st.length-1&&(ft.current=new Date)},[]),{activeSnapPoint:me,activeSnapPointIndex:it,setActiveSnapPoint:jt,onRelease:pe,snapPointsOffset:st,onDrag:we,shouldFade:Ut,getPercentageDragged:he}=Je({snapPoints:o,activeSnapPointProp:H,setActiveSnapPointProp:F,drawerRef:u,fadeFromIndex:w,overlayRef:nt,onSnapPointChange:fe,direction:c,container:s,snapToSequentialPoint:d});je({isDisabled:!L||at||!z||de||!j||!v||!K});const{restorePositionSetting:ge}=tn({isOpen:L,modal:z,nested:k,hasBeenOpened:j,preventScrollRestoration:T,noBodyStyles:N});function pt(){return(window.innerWidth-Pt)/window.innerWidth}function ve(l){var y,D;!g&&!o||u.current&&!u.current.contains(l.target)||(Bt.current=((y=u.current)==null?void 0:y.getBoundingClientRect().height)||0,Lt.current=((D=u.current)==null?void 0:D.getBoundingClientRect().width)||0,St(!0),Tt.current=new Date,Zt()&&window.addEventListener("touchend",()=>ot.current=!1,{once:!0}),l.target.setPointerCapture(l.pointerId),Et.current=$(c)?l.pageY:l.pageX)}function Ft(l,y){var D,E;let b=l;const V=(D=window.getSelection())==null?void 0:D.toString(),I=u.current?gt(u.current,c):null,W=new Date;if(b.hasAttribute("data-vaul-no-drag")||b.closest("[data-vaul-no-drag]"))return!1;if(c==="right"||c==="left")return!0;if(ft.current&&W.getTime()-ft.current.getTime()<500)return!1;if(I!==null&&(c==="bottom"?I>0:I<0))return!0;if(V&&V.length>0)return!1;if(W.getTime()-((E=mt.current)==null?void 0:E.getTime())<R&&I===0||y)return mt.current=W,!1;for(;b;){if(b.scrollHeight>b.clientHeight){if(b.scrollTop!==0)return mt.current=new Date,!1;if(b.getAttribute("role")==="dialog")return!0}b=b.parentNode}return!0}function ye(l){if(u.current&&at){const y=c==="bottom"||c==="right"?1:-1,D=(Et.current-($(c)?l.pageY:l.pageX))*y,E=D>0,b=o&&!g&&!E;if(b&&it===0)return;const V=Math.abs(D),I=document.querySelector("[data-vaul-drawer-wrapper]"),W=c==="bottom"||c==="top"?Bt.current:Lt.current;let Y=V/W;const tt=he(V,E);if(tt!==null&&(Y=tt),b&&Y>=1||!ot.current&&!Ft(l.target,E))return;if(u.current.classList.add(Nt),ot.current=!0,C(u.current,{transition:"none"}),C(nt.current,{transition:"none"}),o&&we({draggedDistance:D}),E&&!o){const q=Ye(D),wt=Math.min(q*-1,0)*y;C(u.current,{transform:$(c)?`translate3d(0, ${wt}px, 0)`:`translate3d(${wt}px, 0, 0)`});return}const J=1-Y;if((Ut||w&&it===w-1)&&(a==null||a(l,Y),C(nt.current,{opacity:`${J}`,transition:"none"},!0)),I&&nt.current&&h){const q=Math.min(pt()+Y*(1-pt()),1),wt=8-Y*8,zt=Math.max(0,14-Y*14);C(I,{borderRadius:`${wt}px`,transform:$(c)?`scale(${q}) translate3d(0, ${zt}px, 0)`:`scale(${q}) translate3d(${zt}px, 0, 0)`,transition:"none"},!0)}if(!o){const q=V*y;C(u.current,{transform:$(c)?`translate3d(0, ${q}px, 0)`:`translate3d(${q}px, 0, 0)`})}}}r.useEffect(()=>{var l;function y(){if(!u.current||!v)return;const D=document.activeElement;if(At(D)||rt.current){var E;const b=((E=window.visualViewport)==null?void 0:E.height)||0,V=window.innerHeight;let I=V-b;const W=u.current.getBoundingClientRect().height||0,Y=W>V*.8;xt.current||(xt.current=W);const tt=u.current.getBoundingClientRect().top;if(Math.abs(kt.current-I)>60&&(rt.current=!rt.current),o&&o.length>0&&st&&it){const J=st[it]||0;I+=J}if(kt.current=I,W>b||rt.current){const J=u.current.getBoundingClientRect().height;let q=J;J>b&&(q=b-(Y?tt:Pt)),O?u.current.style.height=`${J-Math.max(I,0)}px`:u.current.style.height=`${Math.max(q,b-tt)}px`}else u.current.style.height=`${xt.current}px`;o&&o.length>0&&!rt.current?u.current.style.bottom="0px":u.current.style.bottom=`${Math.max(I,0)}px`}}return(l=window.visualViewport)==null||l.addEventListener("resize",y),()=>{var D;return(D=window.visualViewport)==null?void 0:D.removeEventListener("resize",y)}},[it,o,st]);function lt(l){be(),f==null||f(),l||G(!1),setTimeout(()=>{o&&jt(o[0])},x.DURATION*1e3)}function Wt(){if(!u.current)return;const l=document.querySelector("[data-vaul-drawer-wrapper]"),y=gt(u.current,c);C(u.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${x.DURATION}s cubic-bezier(${x.EASE.join(",")})`}),C(nt.current,{transition:`opacity ${x.DURATION}s cubic-bezier(${x.EASE.join(",")})`,opacity:"1"}),h&&y&&y>0&&L&&C(l,{borderRadius:`${ae}px`,overflow:"hidden",...$(c)?{transform:`scale(${pt()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${pt()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${x.DURATION}s`,transitionTimingFunction:`cubic-bezier(${x.EASE.join(",")})`},!0)}function be(){!at||!u.current||(u.current.classList.remove(Nt),ot.current=!1,St(!1),Dt.current=new Date)}function Se(l){if(!at||!u.current)return;u.current.classList.remove(Nt),ot.current=!1,St(!1),Dt.current=new Date;const y=gt(u.current,c);if(!Ft(l.target,!1)||!y||Number.isNaN(y)||Tt.current===null)return;const D=Dt.current.getTime()-Tt.current.getTime(),E=Et.current-($(c)?l.pageY:l.pageX),b=Math.abs(E)/D;if(b>.05&&(Ht(!0),setTimeout(()=>{Ht(!1)},200)),o){pe({draggedDistance:E*(c==="bottom"||c==="right"?1:-1),closeDrawer:lt,velocity:b,dismissible:g}),i==null||i(l,!0);return}if(c==="bottom"||c==="right"?E>0:E<0){Wt(),i==null||i(l,!0);return}if(b>re){lt(),i==null||i(l,!1);return}var V;const I=Math.min((V=u.current.getBoundingClientRect().height)!=null?V:0,window.innerHeight);var W;const Y=Math.min((W=u.current.getBoundingClientRect().width)!=null?W:0,window.innerWidth),tt=c==="left"||c==="right";if(Math.abs(y)>=(tt?Y:I)*S){lt(),i==null||i(l,!1);return}i==null||i(l,!0),Wt()}r.useEffect(()=>(L&&(C(document.documentElement,{scrollBehavior:"auto"}),ft.current=new Date),()=>{Ve(document.documentElement,"scrollBehavior")}),[L]);function Te(l){const y=l?(window.innerWidth-et)/window.innerWidth:1,D=l?-et:0;Rt.current&&window.clearTimeout(Rt.current),C(u.current,{transition:`transform ${x.DURATION}s cubic-bezier(${x.EASE.join(",")})`,transform:`scale(${y}) translate3d(0, ${D}px, 0)`}),!l&&u.current&&(Rt.current=setTimeout(()=>{const E=gt(u.current,c);C(u.current,{transition:"none",transform:$(c)?`translate3d(0, ${E}px, 0)`:`translate3d(${E}px, 0, 0)`})},500))}function De(l,y){if(y<0)return;const D=(window.innerWidth-et)/window.innerWidth,E=D+y*(1-D),b=-et+y*et;C(u.current,{transform:$(c)?`scale(${E}) translate3d(0, ${b}px, 0)`:`scale(${E}) translate3d(${b}px, 0, 0)`,transition:"none"})}function Re(l,y){const D=$(c)?window.innerHeight:window.innerWidth,E=y?(D-et)/D:1,b=y?-et:0;y&&C(u.current,{transition:`transform ${x.DURATION}s cubic-bezier(${x.EASE.join(",")})`,transform:$(c)?`scale(${E}) translate3d(0, ${b}px, 0)`:`scale(${E}) translate3d(${b}px, 0, 0)`})}return r.createElement(Ee,{defaultOpen:M,onOpenChange:l=>{!g&&!l||(l?Z(!0):lt(!0),G(l))},open:L},r.createElement(Qt.Provider,{value:{activeSnapPoint:me,snapPoints:o,setActiveSnapPoint:jt,drawerRef:u,overlayRef:nt,onOpenChange:n,onPress:ve,onRelease:Se,onDrag:ye,dismissible:g,handleOnly:p,isOpen:L,isDragging:at,shouldFade:Ut,closeDrawer:lt,onNestedDrag:De,onNestedOpenChange:Te,onNestedRelease:Re,keyboardIsOpen:rt,modal:z,snapPointsOffset:st,direction:c,shouldScaleBackground:h,setBackgroundColorOnScale:m,noBodyStyles:N,container:s,autoFocus:P}},e))}const se=r.forwardRef(function({...t},n){const{overlayRef:e,snapPoints:a,onRelease:i,shouldFade:o,isOpen:h,modal:m}=dt(),S=ee(n,e),R=a&&a.length>0;return m?r.createElement($e,{onMouseUp:i,ref:S,"data-vaul-overlay":"","data-vaul-snap-points":h&&R?"true":"false","data-vaul-snap-points-overlay":h&&o?"true":"false",...t}):(typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),null)});se.displayName="Drawer.Overlay";const le=r.forwardRef(function({onPointerDownOutside:t,style:n,onOpenAutoFocus:e,...a},i){const{drawerRef:o,onPress:h,onRelease:m,onDrag:S,keyboardIsOpen:R,snapPointsOffset:g,modal:p,isOpen:w,direction:H,snapPoints:F,container:O,handleOnly:z,autoFocus:f}=dt(),[k,N]=r.useState(!1),c=ee(i,o),M=r.useRef(null),K=r.useRef(null),d=r.useRef(!1),T=F&&F.length>0;Ze();const v=(s,P,A=0)=>{if(d.current)return!0;const B=Math.abs(s.y),L=Math.abs(s.x),G=L>B,j=["bottom","right"].includes(P)?1:-1;if(P==="left"||P==="right"){if(!(s.x*j<0)&&L>=0&&L<=A)return G}else if(!(s.y*j<0)&&B>=0&&B<=A)return!G;return d.current=!0,!0};r.useEffect(()=>{T&&window.requestAnimationFrame(()=>{N(!0)})},[]);function _(s){M.current=null,d.current=!1,m(s)}return r.createElement(Ce,{"data-vaul-drawer-direction":H,"data-vaul-drawer":"","data-vaul-delayed-snap-points":k?"true":"false","data-vaul-snap-points":w&&T?"true":"false","data-vaul-custom-container":O?"true":"false",...a,ref:c,style:g&&g.length>0?{"--snap-point-height":`${g[0]}px`,...n}:n,onPointerDown:s=>{z||(a.onPointerDown==null||a.onPointerDown.call(a,s),M.current={x:s.pageX,y:s.pageY},h(s))},onOpenAutoFocus:s=>{e==null||e(s),f||s.preventDefault()},onPointerDownOutside:s=>{if(t==null||t(s),!p||s.defaultPrevented){s.preventDefault();return}R.current&&(R.current=!1)},onFocusOutside:s=>{if(!p){s.preventDefault();return}},onPointerMove:s=>{if(K.current=s,z||(a.onPointerMove==null||a.onPointerMove.call(a,s),!M.current))return;const P=s.pageY-M.current.y,A=s.pageX-M.current.x,B=s.pointerType==="touch"?10:2;v({x:A,y:P},H,B)?S(s):(Math.abs(A)>B||Math.abs(P)>B)&&(M.current=null)},onPointerUp:s=>{a.onPointerUp==null||a.onPointerUp.call(a,s),M.current=null,d.current=!1,m(s)},onPointerOut:s=>{a.onPointerOut==null||a.onPointerOut.call(a,s),_(K.current)},onContextMenu:s=>{a.onContextMenu==null||a.onContextMenu.call(a,s),_(K.current)}})});le.displayName="Drawer.Content";const nn=250,rn=120,an=r.forwardRef(function({preventCycle:t=!1,children:n,...e},a){const{closeDrawer:i,isDragging:o,snapPoints:h,activeSnapPoint:m,setActiveSnapPoint:S,dismissible:R,handleOnly:g,isOpen:p,onPress:w,onDrag:H}=dt(),F=r.useRef(null),O=r.useRef(!1);function z(){if(O.current){N();return}window.setTimeout(()=>{f()},rn)}function f(){if(o||t||O.current){N();return}if(N(),(!h||h.length===0)&&R){i();return}if(m===h[h.length-1]&&R){i();return}const M=h.findIndex(d=>d===m);if(M===-1)return;const K=h[M+1];S(K)}function k(){F.current=window.setTimeout(()=>{O.current=!0},nn)}function N(){window.clearTimeout(F.current),O.current=!1}return r.createElement("div",{onClick:z,onPointerCancel:N,onPointerDown:c=>{g&&w(c),k()},onPointerMove:c=>{g&&H(c)},ref:a,"data-vaul-drawer-visible":p?"true":"false","data-vaul-handle":"","aria-hidden":"true",...e},r.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},n))});an.displayName="Drawer.Handle";function on(t){const n=dt(),{container:e=n.container,...a}=t;return r.createElement(Oe,{container:e,...a})}const X={Root:en,Content:le,Overlay:se,Trigger:xe,Portal:on,Title:Ne,Description:Ae},bt=({shouldScaleBackground:t=!0,...n})=>U.jsx(X.Root,{shouldScaleBackground:t,...n});bt.displayName="Drawer";const sn=X.Trigger,ln=X.Portal,_t=Q.forwardRef(({className:t,...n},e)=>U.jsx(X.Overlay,{ref:e,className:yt("fixed inset-0 z-50 bg-black/80",t),...n}));_t.displayName=X.Overlay.displayName;const It=Q.forwardRef(({className:t,children:n,...e},a)=>U.jsxs(ln,{children:[U.jsx(_t,{}),U.jsxs(X.Content,{ref:a,className:yt("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",t),...e,children:[U.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),n]})]}));It.displayName="DrawerContent";const ue=Q.forwardRef(({className:t,...n},e)=>U.jsx(X.Title,{ref:e,className:yt("text-lg font-semibold leading-none tracking-tight",t),...n}));ue.displayName=X.Title.displayName;const ce=Q.forwardRef(({className:t,...n},e)=>U.jsx(X.Description,{ref:e,className:yt("text-sm text-muted-foreground",t),...n}));ce.displayName=X.Description.displayName;bt.__docgenInfo={description:"",methods:[],displayName:"Drawer",props:{shouldScaleBackground:{defaultValue:{value:"true",computed:!1},required:!1}}};_t.__docgenInfo={description:"",methods:[]};It.__docgenInfo={description:"",methods:[],displayName:"DrawerContent"};ue.__docgenInfo={description:"",methods:[]};ce.__docgenInfo={description:"",methods:[]};const Cn={title:"Components/Drawer",component:bt},un=()=>U.jsxs(bt,{children:[U.jsx(sn,{asChild:!0,children:U.jsx(Pe,{children:"Open"})}),U.jsx(It,{className:"p-4",children:"Content"})]}),vt={render:()=>U.jsx("div",{className:"p-4",children:U.jsx(un,{})})};var Kt,Gt,Jt;vt.parameters={...vt.parameters,docs:{...(Kt=vt.parameters)==null?void 0:Kt.docs,source:{originalSource:`{
  render: () => <div className="p-4"><Example /></div>
}`,...(Jt=(Gt=vt.parameters)==null?void 0:Gt.docs)==null?void 0:Jt.source}}};const $n=["Default"];export{vt as Default,$n as __namedExportsOrder,Cn as default};
