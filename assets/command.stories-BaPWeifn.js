import{r as l,j as y}from"./iframe-CIRVnMV3.js";import{R as Le,P as Fe,O as Ke,C as Pe}from"./index-vsuI5p-E.js";import{P as j}from"./index-h_FE7HgR.js";import{u as F}from"./index-DmcyR5on.js";import{a as q}from"./index-Dlr_UOgm.js";import{c as K}from"./utils-CytzSlOG.js";import"./dialog-DtJIovkf.js";import{c as Oe}from"./createLucideIcon-BKBi3cpM.js";import"./index-DW48STyt.js";import"./index-DTvcxu3I.js";import"./index-BfZZhRAD.js";import"./index-BaryZGho.js";import"./index-DNasehMi.js";import"./index-CGYSHY19.js";import"./index-BTR-YX_n.js";import"./index-bAptC-Xc.js";import"./index-D-AeSXa4.js";import"./index-Dsv0rg3O.js";import"./x-O_qsw_FS.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ve=Oe("search",qe);var be=1,Be=.9,Ge=.8,ze=.17,ne=.1,le=.999,Te=.9999,Ue=.99,He=/[\\\/_+.#"@\[\(\{&]/,We=/[\\\/_+.#"@\[\(\{&]/g,Je=/[\s-]/,Ie=/[\s-]/g;function oe(e,n,r,m,o,d,c){if(d===n.length)return o===e.length?be:Ue;var f=`${o},${d}`;if(c[f]!==void 0)return c[f];for(var b=m.charAt(d),i=r.indexOf(b,o),v=0,h,C,k,R;i>=0;)h=oe(e,n,r,m,i+1,d+1,c),h>v&&(i===o?h*=be:He.test(e.charAt(i-1))?(h*=Ge,k=e.slice(o,i-1).match(We),k&&o>0&&(h*=Math.pow(le,k.length))):Je.test(e.charAt(i-1))?(h*=Be,R=e.slice(o,i-1).match(Ie),R&&o>0&&(h*=Math.pow(le,R.length))):(h*=ze,o>0&&(h*=Math.pow(le,i-o))),e.charAt(i)!==n.charAt(d)&&(h*=Te)),(h<ne&&r.charAt(i-1)===m.charAt(d+1)||m.charAt(d+1)===m.charAt(d)&&r.charAt(i-1)!==m.charAt(d))&&(C=oe(e,n,r,m,i+1,d+2,c),C*ne>h&&(h=C*ne)),h>v&&(v=h),i=r.indexOf(b,i+1);return c[f]=v,v}function xe(e){return e.toLowerCase().replace(Ie," ")}function Xe(e,n,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,oe(e,n,xe(e),xe(n),0,0,{})}var O='[cmdk-group=""]',ae='[cmdk-group-items=""]',Ye='[cmdk-group-heading=""]',Se='[cmdk-item=""]',ye=`${Se}:not([aria-disabled="true"])`,ie="cmdk-item-select",D="data-value",Qe=(e,n,r)=>Xe(e,n,r),Ce=l.createContext(void 0),V=()=>l.useContext(Ce),Re=l.createContext(void 0),ue=()=>l.useContext(Re),Ne=l.createContext(void 0),je=l.forwardRef((e,n)=>{let r=L(()=>{var t,u;return{search:"",value:(u=(t=e.value)!=null?t:e.defaultValue)!=null?u:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),m=L(()=>new Set),o=L(()=>new Map),d=L(()=>new Map),c=L(()=>new Set),f=Ae(e),{label:b,children:i,value:v,onValueChange:h,filter:C,shouldFilter:k,loop:R,disablePointerSelection:W=!1,vimBindings:A=!0,...B}=e,J=F(),se=F(),X=F(),M=l.useRef(null),x=dt();_(()=>{if(v!==void 0){let t=v.trim();r.current.value=t,E.emit()}},[v]),_(()=>{x(6,fe)},[]);let E=l.useMemo(()=>({subscribe:t=>(c.current.add(t),()=>c.current.delete(t)),snapshot:()=>r.current,setState:(t,u,s)=>{var a,p,g,S;if(!Object.is(r.current[t],u)){if(r.current[t]=u,t==="search")ee(),Q(),x(1,Z);else if(t==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let w=document.getElementById(X);w?w.focus():(a=document.getElementById(J))==null||a.focus()}if(x(7,()=>{var w;r.current.selectedItemId=(w=$())==null?void 0:w.id,E.emit()}),s||x(5,fe),((p=f.current)==null?void 0:p.value)!==void 0){let w=u??"";(S=(g=f.current).onValueChange)==null||S.call(g,w);return}}E.emit()}},emit:()=>{c.current.forEach(t=>t())}}),[]),Y=l.useMemo(()=>({value:(t,u,s)=>{var a;u!==((a=d.current.get(t))==null?void 0:a.value)&&(d.current.set(t,{value:u,keywords:s}),r.current.filtered.items.set(t,me(u,s)),x(2,()=>{Q(),E.emit()}))},item:(t,u)=>(m.current.add(t),u&&(o.current.has(u)?o.current.get(u).add(t):o.current.set(u,new Set([t]))),x(3,()=>{ee(),Q(),r.current.value||Z(),E.emit()}),()=>{d.current.delete(t),m.current.delete(t),r.current.filtered.items.delete(t);let s=$();x(4,()=>{ee(),(s==null?void 0:s.getAttribute("id"))===t&&Z(),E.emit()})}),group:t=>(o.current.has(t)||o.current.set(t,new Set),()=>{d.current.delete(t),o.current.delete(t)}),filter:()=>f.current.shouldFilter,label:b||e["aria-label"],getDisablePointerSelection:()=>f.current.disablePointerSelection,listId:J,inputId:X,labelId:se,listInnerRef:M}),[]);function me(t,u){var s,a;let p=(a=(s=f.current)==null?void 0:s.filter)!=null?a:Qe;return t?p(t,r.current.search,u):0}function Q(){if(!r.current.search||f.current.shouldFilter===!1)return;let t=r.current.filtered.items,u=[];r.current.filtered.groups.forEach(a=>{let p=o.current.get(a),g=0;p.forEach(S=>{let w=t.get(S);g=Math.max(w,g)}),u.push([a,g])});let s=M.current;P().sort((a,p)=>{var g,S;let w=a.getAttribute("id"),G=p.getAttribute("id");return((g=t.get(G))!=null?g:0)-((S=t.get(w))!=null?S:0)}).forEach(a=>{let p=a.closest(ae);p?p.appendChild(a.parentElement===p?a:a.closest(`${ae} > *`)):s.appendChild(a.parentElement===s?a:a.closest(`${ae} > *`))}),u.sort((a,p)=>p[1]-a[1]).forEach(a=>{var p;let g=(p=M.current)==null?void 0:p.querySelector(`${O}[${D}="${encodeURIComponent(a[0])}"]`);g==null||g.parentElement.appendChild(g)})}function Z(){let t=P().find(s=>s.getAttribute("aria-disabled")!=="true"),u=t==null?void 0:t.getAttribute(D);E.setState("value",u||void 0)}function ee(){var t,u,s,a;if(!r.current.search||f.current.shouldFilter===!1){r.current.filtered.count=m.current.size;return}r.current.filtered.groups=new Set;let p=0;for(let g of m.current){let S=(u=(t=d.current.get(g))==null?void 0:t.value)!=null?u:"",w=(a=(s=d.current.get(g))==null?void 0:s.keywords)!=null?a:[],G=me(S,w);r.current.filtered.items.set(g,G),G>0&&p++}for(let[g,S]of o.current)for(let w of S)if(r.current.filtered.items.get(w)>0){r.current.filtered.groups.add(g);break}r.current.filtered.count=p}function fe(){var t,u,s;let a=$();a&&(((t=a.parentElement)==null?void 0:t.firstChild)===a&&((s=(u=a.closest(O))==null?void 0:u.querySelector(Ye))==null||s.scrollIntoView({block:"nearest"})),a.scrollIntoView({block:"nearest"}))}function $(){var t;return(t=M.current)==null?void 0:t.querySelector(`${Se}[aria-selected="true"]`)}function P(){var t;return Array.from(((t=M.current)==null?void 0:t.querySelectorAll(ye))||[])}function te(t){let u=P()[t];u&&E.setState("value",u.getAttribute(D))}function re(t){var u;let s=$(),a=P(),p=a.findIndex(S=>S===s),g=a[p+t];(u=f.current)!=null&&u.loop&&(g=p+t<0?a[a.length-1]:p+t===a.length?a[0]:a[p+t]),g&&E.setState("value",g.getAttribute(D))}function pe(t){let u=$(),s=u==null?void 0:u.closest(O),a;for(;s&&!a;)s=t>0?it(s,O):ut(s,O),a=s==null?void 0:s.querySelector(ye);a?E.setState("value",a.getAttribute(D)):re(t)}let ve=()=>te(P().length-1),he=t=>{t.preventDefault(),t.metaKey?ve():t.altKey?pe(1):re(1)},ge=t=>{t.preventDefault(),t.metaKey?te(0):t.altKey?pe(-1):re(-1)};return l.createElement(j.div,{ref:n,tabIndex:-1,...B,"cmdk-root":"",onKeyDown:t=>{var u;(u=B.onKeyDown)==null||u.call(B,t);let s=t.nativeEvent.isComposing||t.keyCode===229;if(!(t.defaultPrevented||s))switch(t.key){case"n":case"j":{A&&t.ctrlKey&&he(t);break}case"ArrowDown":{he(t);break}case"p":case"k":{A&&t.ctrlKey&&ge(t);break}case"ArrowUp":{ge(t);break}case"Home":{t.preventDefault(),te(0);break}case"End":{t.preventDefault(),ve();break}case"Enter":{t.preventDefault();let a=$();if(a){let p=new Event(ie);a.dispatchEvent(p)}}}}},l.createElement("label",{"cmdk-label":"",htmlFor:Y.inputId,id:Y.labelId,style:st},b),U(e,t=>l.createElement(Re.Provider,{value:E},l.createElement(Ce.Provider,{value:Y},t))))}),Ze=l.forwardRef((e,n)=>{var r,m;let o=F(),d=l.useRef(null),c=l.useContext(Ne),f=V(),b=Ae(e),i=(m=(r=b.current)==null?void 0:r.forceMount)!=null?m:c==null?void 0:c.forceMount;_(()=>{if(!i)return f.item(o,c==null?void 0:c.id)},[i]);let v=Me(o,d,[e.value,e.children,d],e.keywords),h=ue(),C=N(x=>x.value&&x.value===v.current),k=N(x=>i||f.filter()===!1?!0:x.search?x.filtered.items.get(o)>0:!0);l.useEffect(()=>{let x=d.current;if(!(!x||e.disabled))return x.addEventListener(ie,R),()=>x.removeEventListener(ie,R)},[k,e.onSelect,e.disabled]);function R(){var x,E;W(),(E=(x=b.current).onSelect)==null||E.call(x,v.current)}function W(){h.setState("value",v.current,!0)}if(!k)return null;let{disabled:A,value:B,onSelect:J,forceMount:se,keywords:X,...M}=e;return l.createElement(j.div,{ref:q(d,n),...M,id:o,"cmdk-item":"",role:"option","aria-disabled":!!A,"aria-selected":!!C,"data-disabled":!!A,"data-selected":!!C,onPointerMove:A||f.getDisablePointerSelection()?void 0:W,onClick:A?void 0:R},e.children)}),et=l.forwardRef((e,n)=>{let{heading:r,children:m,forceMount:o,...d}=e,c=F(),f=l.useRef(null),b=l.useRef(null),i=F(),v=V(),h=N(k=>o||v.filter()===!1?!0:k.search?k.filtered.groups.has(c):!0);_(()=>v.group(c),[]),Me(c,f,[e.value,e.heading,b]);let C=l.useMemo(()=>({id:c,forceMount:o}),[o]);return l.createElement(j.div,{ref:q(f,n),...d,"cmdk-group":"",role:"presentation",hidden:h?void 0:!0},r&&l.createElement("div",{ref:b,"cmdk-group-heading":"","aria-hidden":!0,id:i},r),U(e,k=>l.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?i:void 0},l.createElement(Ne.Provider,{value:C},k))))}),tt=l.forwardRef((e,n)=>{let{alwaysRender:r,...m}=e,o=l.useRef(null),d=N(c=>!c.search);return!r&&!d?null:l.createElement(j.div,{ref:q(o,n),...m,"cmdk-separator":"",role:"separator"})}),rt=l.forwardRef((e,n)=>{let{onValueChange:r,...m}=e,o=e.value!=null,d=ue(),c=N(i=>i.search),f=N(i=>i.selectedItemId),b=V();return l.useEffect(()=>{e.value!=null&&d.setState("search",e.value)},[e.value]),l.createElement(j.input,{ref:n,...m,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":b.listId,"aria-labelledby":b.labelId,"aria-activedescendant":f,id:b.inputId,type:"text",value:o?e.value:c,onChange:i=>{o||d.setState("search",i.target.value),r==null||r(i.target.value)}})}),nt=l.forwardRef((e,n)=>{let{children:r,label:m="Suggestions",...o}=e,d=l.useRef(null),c=l.useRef(null),f=N(i=>i.selectedItemId),b=V();return l.useEffect(()=>{if(c.current&&d.current){let i=c.current,v=d.current,h,C=new ResizeObserver(()=>{h=requestAnimationFrame(()=>{let k=i.offsetHeight;v.style.setProperty("--cmdk-list-height",k.toFixed(1)+"px")})});return C.observe(i),()=>{cancelAnimationFrame(h),C.unobserve(i)}}},[]),l.createElement(j.div,{ref:q(d,n),...o,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":f,"aria-label":m,id:b.listId},U(e,i=>l.createElement("div",{ref:q(c,b.listInnerRef),"cmdk-list-sizer":""},i)))}),lt=l.forwardRef((e,n)=>{let{open:r,onOpenChange:m,overlayClassName:o,contentClassName:d,container:c,...f}=e;return l.createElement(Le,{open:r,onOpenChange:m},l.createElement(Fe,{container:c},l.createElement(Ke,{"cmdk-overlay":"",className:o}),l.createElement(Pe,{"aria-label":e.label,"cmdk-dialog":"",className:d},l.createElement(je,{ref:n,...f}))))}),at=l.forwardRef((e,n)=>N(r=>r.filtered.count===0)?l.createElement(j.div,{ref:n,...e,"cmdk-empty":"",role:"presentation"}):null),ot=l.forwardRef((e,n)=>{let{progress:r,children:m,label:o="Loading...",...d}=e;return l.createElement(j.div,{ref:n,...d,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":o},U(e,c=>l.createElement("div",{"aria-hidden":!0},c)))}),I=Object.assign(je,{List:nt,Item:Ze,Input:rt,Group:et,Separator:tt,Dialog:lt,Empty:at,Loading:ot});function it(e,n){let r=e.nextElementSibling;for(;r;){if(r.matches(n))return r;r=r.nextElementSibling}}function ut(e,n){let r=e.previousElementSibling;for(;r;){if(r.matches(n))return r;r=r.previousElementSibling}}function Ae(e){let n=l.useRef(e);return _(()=>{n.current=e}),n}var _=typeof window>"u"?l.useEffect:l.useLayoutEffect;function L(e){let n=l.useRef();return n.current===void 0&&(n.current=e()),n}function N(e){let n=ue(),r=()=>e(n.snapshot());return l.useSyncExternalStore(n.subscribe,r,r)}function Me(e,n,r,m=[]){let o=l.useRef(),d=V();return _(()=>{var c;let f=(()=>{var i;for(let v of r){if(typeof v=="string")return v.trim();if(typeof v=="object"&&"current"in v)return v.current?(i=v.current.textContent)==null?void 0:i.trim():o.current}})(),b=m.map(i=>i.trim());d.value(e,f,b),(c=n.current)==null||c.setAttribute(D,f),o.current=f}),o}var dt=()=>{let[e,n]=l.useState(),r=L(()=>new Map);return _(()=>{r.current.forEach(m=>m()),r.current=new Map},[e]),(m,o)=>{r.current.set(m,o),n({})}};function ct(e){let n=e.type;return typeof n=="function"?n(e.props):"render"in n?n.render(e.props):e}function U({asChild:e,children:n},r){return e&&l.isValidElement(n)?l.cloneElement(ct(n),{ref:n.ref},r(n.props.children)):r(n)}var st={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const H=l.forwardRef(({className:e,...n},r)=>y.jsx(I,{ref:r,className:K("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...n}));H.displayName=I.displayName;const de=l.forwardRef(({className:e,...n},r)=>y.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[y.jsx(Ve,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),y.jsx(I.Input,{ref:r,className:K("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...n})]}));de.displayName=I.Input.displayName;const ce=l.forwardRef(({className:e,...n},r)=>y.jsx(I.List,{ref:r,className:K("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...n}));ce.displayName=I.List.displayName;const _e=l.forwardRef((e,n)=>y.jsx(I.Empty,{ref:n,className:"py-6 text-center text-sm",...e}));_e.displayName=I.Empty.displayName;const $e=l.forwardRef(({className:e,...n},r)=>y.jsx(I.Group,{ref:r,className:K("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...n}));$e.displayName=I.Group.displayName;const De=l.forwardRef(({className:e,...n},r)=>y.jsx(I.Separator,{ref:r,className:K("-mx-1 h-px bg-border",e),...n}));De.displayName=I.Separator.displayName;const T=l.forwardRef(({className:e,...n},r)=>y.jsx(I.Item,{ref:r,className:K("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...n}));T.displayName=I.Item.displayName;H.__docgenInfo={description:"",methods:[]};de.__docgenInfo={description:"",methods:[]};ce.__docgenInfo={description:"",methods:[]};_e.__docgenInfo={description:"",methods:[]};$e.__docgenInfo={description:"",methods:[]};T.__docgenInfo={description:"",methods:[]};De.__docgenInfo={description:"",methods:[]};const _t={title:"Components/Command",component:H},mt=()=>y.jsxs(H,{className:"border",children:[y.jsx(de,{placeholder:"Search"}),y.jsxs(ce,{children:[y.jsx(T,{children:"Item One"}),y.jsx(T,{children:"Item Two"})]})]}),z={render:()=>y.jsx("div",{className:"p-4",children:y.jsx(mt,{})})};var we,ke,Ee;z.parameters={...z.parameters,docs:{...(we=z.parameters)==null?void 0:we.docs,source:{originalSource:`{
  render: () => <div className="p-4"><Example /></div>
}`,...(Ee=(ke=z.parameters)==null?void 0:ke.docs)==null?void 0:Ee.source}}};const $t=["Default"];export{z as Default,$t as __namedExportsOrder,_t as default};
