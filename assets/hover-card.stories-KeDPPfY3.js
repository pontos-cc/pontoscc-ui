import{r as o,j as a}from"./iframe-CIRVnMV3.js";import{c as l}from"./index-DW48STyt.js";import{c as U}from"./index-DTvcxu3I.js";import{u as W}from"./index-BfZZhRAD.js";import{u as $}from"./index-Dlr_UOgm.js";import{c as y,R as z,A as B,C as V,a as q}from"./index-DttSfg00.js";import{P as G}from"./index-Dsv0rg3O.js";import{P as K}from"./index-h_FE7HgR.js";import{D as J}from"./index-DNasehMi.js";import{c as Q}from"./utils-CytzSlOG.js";import"./index-BaryZGho.js";import"./index-D-AeSXa4.js";import"./index-CGYSHY19.js";import"./index-CI28lxSV.js";var E,b="HoverCard",[D,Se]=U(b,[y]),w=y(),[X,H]=D(b),j=e=>{const{__scopeHoverCard:t,children:n,open:i,defaultOpen:s,onOpenChange:d,openDelay:f=700,closeDelay:m=300}=e,c=w(t),v=o.useRef(0),u=o.useRef(0),C=o.useRef(!1),p=o.useRef(!1),[h,r]=W({prop:i,defaultProp:s??!1,onChange:d,caller:b}),x=o.useCallback(()=>{clearTimeout(u.current),v.current=window.setTimeout(()=>r(!0),f)},[f,r]),P=o.useCallback(()=>{clearTimeout(v.current),!C.current&&!p.current&&(u.current=window.setTimeout(()=>r(!1),m))},[m,r]),I=o.useCallback(()=>r(!1),[r]);return o.useEffect(()=>()=>{clearTimeout(v.current),clearTimeout(u.current)},[]),a.jsx(X,{scope:t,open:h,onOpenChange:r,onOpen:x,onClose:P,onDismiss:I,hasSelectionRef:C,isPointerDownOnContentRef:p,children:a.jsx(z,{...c,children:n})})};j.displayName=b;var A="HoverCardTrigger",L=o.forwardRef((e,t)=>{const{__scopeHoverCard:n,...i}=e,s=H(A,n),d=w(n);return a.jsx(B,{asChild:!0,...d,children:a.jsx(K.a,{"data-state":s.open?"open":"closed",...i,ref:t,onPointerEnter:l(e.onPointerEnter,S(s.onOpen)),onPointerLeave:l(e.onPointerLeave,S(s.onClose)),onFocus:l(e.onFocus,s.onOpen),onBlur:l(e.onBlur,s.onClose),onTouchStart:l(e.onTouchStart,f=>f.preventDefault())})})});L.displayName=A;var Y="HoverCardPortal",[be,Z]=D(Y,{forceMount:void 0}),g="HoverCardContent",k=o.forwardRef((e,t)=>{const n=Z(g,e.__scopeHoverCard),{forceMount:i=n.forceMount,...s}=e,d=H(g,e.__scopeHoverCard);return a.jsx(G,{present:i||d.open,children:a.jsx(ee,{"data-state":d.open?"open":"closed",...s,onPointerEnter:l(e.onPointerEnter,S(d.onOpen)),onPointerLeave:l(e.onPointerLeave,S(d.onClose)),ref:t})})});k.displayName=g;var ee=o.forwardRef((e,t)=>{const{__scopeHoverCard:n,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:d,onInteractOutside:f,...m}=e,c=H(g,n),v=w(n),u=o.useRef(null),C=$(t,u),[p,h]=o.useState(!1);return o.useEffect(()=>{if(p){const r=document.body;return E=r.style.userSelect||r.style.webkitUserSelect,r.style.userSelect="none",r.style.webkitUserSelect="none",()=>{r.style.userSelect=E,r.style.webkitUserSelect=E}}},[p]),o.useEffect(()=>{if(u.current){const r=()=>{h(!1),c.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var P;((P=document.getSelection())==null?void 0:P.toString())!==""&&(c.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",r),()=>{document.removeEventListener("pointerup",r),c.hasSelectionRef.current=!1,c.isPointerDownOnContentRef.current=!1}}},[c.isPointerDownOnContentRef,c.hasSelectionRef]),o.useEffect(()=>{u.current&&te(u.current).forEach(x=>x.setAttribute("tabindex","-1"))}),a.jsx(J,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:f,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:l(d,r=>{r.preventDefault()}),onDismiss:c.onDismiss,children:a.jsx(V,{...v,...m,onPointerDown:l(m.onPointerDown,r=>{r.currentTarget.contains(r.target)&&h(!0),c.hasSelectionRef.current=!1,c.isPointerDownOnContentRef.current=!0}),ref:C,style:{...m.style,userSelect:p?"text":void 0,WebkitUserSelect:p?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),re="HoverCardArrow",oe=o.forwardRef((e,t)=>{const{__scopeHoverCard:n,...i}=e,s=w(n);return a.jsx(q,{...s,...i,ref:t})});oe.displayName=re;function S(e){return t=>t.pointerType==="touch"?void 0:e()}function te(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;n.nextNode();)t.push(n.currentNode);return t}var ne=j,ae=L,F=k;const M=ne,se=ae,T=o.forwardRef(({className:e,align:t="center",sideOffset:n=4,...i},s)=>a.jsx(F,{ref:s,align:t,sideOffset:n,className:Q("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...i}));T.displayName=F.displayName;T.__docgenInfo={description:"",methods:[],props:{align:{defaultValue:{value:'"center"',computed:!1},required:!1},sideOffset:{defaultValue:{value:"4",computed:!1},required:!1}}};const we={title:"Components/HoverCard",component:M},ie=()=>a.jsxs(M,{children:[a.jsx(se,{asChild:!0,children:a.jsx("button",{className:"border px-3 py-1",children:"Hover"})}),a.jsx(T,{children:"Card content"})]}),R={render:()=>a.jsx("div",{className:"p-4",children:a.jsx(ie,{})})};var O,N,_;R.parameters={...R.parameters,docs:{...(O=R.parameters)==null?void 0:O.docs,source:{originalSource:`{
  render: () => <div className="p-4"><Example /></div>
}`,...(_=(N=R.parameters)==null?void 0:N.docs)==null?void 0:_.source}}};const Ee=["Default"];export{R as Default,Ee as __namedExportsOrder,we as default};
