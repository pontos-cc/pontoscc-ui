import{r as p,j as n}from"./iframe-CIRVnMV3.js";import{c as m}from"./index-DW48STyt.js";import{u as w,b as q}from"./index-Dlr_UOgm.js";import{c as B}from"./index-DTvcxu3I.js";import{D as K}from"./index-DNasehMi.js";import{h as U,R as W,u as Z,F as J}from"./index-BTR-YX_n.js";import{u as Q}from"./index-DmcyR5on.js";import{c as N,R as X,A as b,C as Y,a as ee}from"./index-DttSfg00.js";import{P as oe}from"./index-bAptC-Xc.js";import{P as F}from"./index-Dsv0rg3O.js";import{P as S}from"./index-h_FE7HgR.js";import{u as te}from"./index-BfZZhRAD.js";import{c as re}from"./utils-CytzSlOG.js";import{B as ne}from"./button-CaMZxS5c.js";import"./index-CGYSHY19.js";import"./index-BaryZGho.js";import"./index-D-AeSXa4.js";import"./index-CI28lxSV.js";import"./index-BwobEAja.js";var C="Popover",[y,Le]=B(C,[N]),P=N(),[ae,u]=y(C),D=e=>{const{__scopePopover:a,children:t,open:s,defaultOpen:o,onOpenChange:r,modal:c=!1}=e,i=P(a),l=p.useRef(null),[d,h]=p.useState(!1),[g,f]=te({prop:s,defaultProp:o??!1,onChange:r,caller:C});return n.jsx(X,{...i,children:n.jsx(ae,{scope:a,contentId:Q(),triggerRef:l,open:g,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(R=>!R),[f]),hasCustomAnchor:d,onCustomAnchorAdd:p.useCallback(()=>h(!0),[]),onCustomAnchorRemove:p.useCallback(()=>h(!1),[]),modal:c,children:t})})};D.displayName=C;var M="PopoverAnchor",se=p.forwardRef((e,a)=>{const{__scopePopover:t,...s}=e,o=u(M,t),r=P(t),{onCustomAnchorAdd:c,onCustomAnchorRemove:i}=o;return p.useEffect(()=>(c(),()=>i()),[c,i]),n.jsx(b,{...r,...s,ref:a})});se.displayName=M;var I="PopoverTrigger",T=p.forwardRef((e,a)=>{const{__scopePopover:t,...s}=e,o=u(I,t),r=P(t),c=w(a,o.triggerRef),i=n.jsx(S.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":G(o.open),...s,ref:c,onClick:m(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?i:n.jsx(b,{asChild:!0,...r,children:i})});T.displayName=I;var O="PopoverPortal",[ce,ie]=y(O,{forceMount:void 0}),k=e=>{const{__scopePopover:a,forceMount:t,children:s,container:o}=e,r=u(O,a);return n.jsx(ce,{scope:a,forceMount:t,children:n.jsx(F,{present:t||r.open,children:n.jsx(oe,{asChild:!0,container:o,children:s})})})};k.displayName=O;var v="PopoverContent",$=p.forwardRef((e,a)=>{const t=ie(v,e.__scopePopover),{forceMount:s=t.forceMount,...o}=e,r=u(v,e.__scopePopover);return n.jsx(F,{present:s||r.open,children:r.modal?n.jsx(le,{...o,ref:a}):n.jsx(de,{...o,ref:a})})});$.displayName=v;var pe=q("PopoverContent.RemoveScroll"),le=p.forwardRef((e,a)=>{const t=u(v,e.__scopePopover),s=p.useRef(null),o=w(a,s),r=p.useRef(!1);return p.useEffect(()=>{const c=s.current;if(c)return U(c)},[]),n.jsx(W,{as:pe,allowPinchZoom:!0,children:n.jsx(L,{...e,ref:o,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:m(e.onCloseAutoFocus,c=>{var i;c.preventDefault(),r.current||(i=t.triggerRef.current)==null||i.focus()}),onPointerDownOutside:m(e.onPointerDownOutside,c=>{const i=c.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0,d=i.button===2||l;r.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:m(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),de=p.forwardRef((e,a)=>{const t=u(v,e.__scopePopover),s=p.useRef(!1),o=p.useRef(!1);return n.jsx(L,{...e,ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:r=>{var c,i;(c=e.onCloseAutoFocus)==null||c.call(e,r),r.defaultPrevented||(s.current||(i=t.triggerRef.current)==null||i.focus(),r.preventDefault()),s.current=!1,o.current=!1},onInteractOutside:r=>{var l,d;(l=e.onInteractOutside)==null||l.call(e,r),r.defaultPrevented||(s.current=!0,r.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=r.target;((d=t.triggerRef.current)==null?void 0:d.contains(c))&&r.preventDefault(),r.detail.originalEvent.type==="focusin"&&o.current&&r.preventDefault()}})}),L=p.forwardRef((e,a)=>{const{__scopePopover:t,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:r,disableOutsidePointerEvents:c,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:d,onInteractOutside:h,...g}=e,f=u(v,t),R=P(t);return Z(),n.jsx(J,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:o,onUnmountAutoFocus:r,children:n.jsx(K,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:h,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:d,onDismiss:()=>f.onOpenChange(!1),children:n.jsx(Y,{"data-state":G(f.open),role:"dialog",id:f.contentId,...R,...g,ref:a,style:{...g.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),z="PopoverClose",ue=p.forwardRef((e,a)=>{const{__scopePopover:t,...s}=e,o=u(z,t);return n.jsx(S.button,{type:"button",...s,ref:a,onClick:m(e.onClick,()=>o.onOpenChange(!1))})});ue.displayName=z;var fe="PopoverArrow",ve=p.forwardRef((e,a)=>{const{__scopePopover:t,...s}=e,o=P(t);return n.jsx(ee,{...o,...s,ref:a})});ve.displayName=fe;function G(e){return e?"open":"closed"}var me=D,Pe=T,he=k,H=$;const V=me,ge=Pe,A=p.forwardRef(({className:e,align:a="center",sideOffset:t=4,...s},o)=>n.jsx(he,{children:n.jsx(H,{ref:o,align:a,sideOffset:t,className:re("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));A.displayName=H.displayName;A.__docgenInfo={description:"",methods:[],props:{align:{defaultValue:{value:'"center"',computed:!1},required:!1},sideOffset:{defaultValue:{value:"4",computed:!1},required:!1}}};const ze={title:"Components/Popover",component:V},xe=()=>n.jsxs(V,{children:[n.jsx(ge,{asChild:!0,children:n.jsx(ne,{children:"Open"})}),n.jsx(A,{className:"p-2",children:"Content"})]}),x={render:()=>n.jsx("div",{className:"p-4",children:n.jsx(xe,{})})};var _,j,E;x.parameters={...x.parameters,docs:{...(_=x.parameters)==null?void 0:_.docs,source:{originalSource:`{
  render: () => <div className="p-4"><Example /></div>
}`,...(E=(j=x.parameters)==null?void 0:j.docs)==null?void 0:E.source}}};const Ge=["Default"];export{x as Default,Ge as __namedExportsOrder,ze as default};
