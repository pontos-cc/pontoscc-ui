import{R as M,r as P,j as J}from"./iframe-CIRVnMV3.js";import{S as Tt}from"./index-Dlr_UOgm.js";import{c as Ve}from"./utils-CytzSlOG.js";import{L as Ot}from"./label-SwmBbPxF.js";import"./index-h_FE7HgR.js";import"./index-D-AeSXa4.js";import"./index-BwobEAja.js";var ye=e=>e.type==="checkbox",ie=e=>e instanceof Date,N=e=>e==null;const ft=e=>typeof e=="object";var D=e=>!N(e)&&!Array.isArray(e)&&ft(e)&&!ie(e),Mt=e=>D(e)&&e.target?ye(e.target)?e.target.checked:e.target.value:e,Ut=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Pt=(e,s)=>e.has(Ut(s)),Bt=e=>{const s=e.constructor&&e.constructor.prototype;return D(s)&&s.hasOwnProperty("isPrototypeOf")},Re=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function I(e){let s;const r=Array.isArray(e),a=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)s=new Date(e);else if(!(Re&&(e instanceof Blob||a))&&(r||D(e)))if(s=r?[]:{},!r&&!Bt(e))s=e;else for(const l in e)e.hasOwnProperty(l)&&(s[l]=I(e[l]));else return e;return s}var Ae=e=>/^\w*$/.test(e),k=e=>e===void 0,Te=e=>Array.isArray(e)?e.filter(Boolean):[],Oe=e=>Te(e.replace(/["|']|\]/g,"").split(/\.|\[/)),m=(e,s,r)=>{if(!s||!D(e))return r;const a=(Ae(s)?[s]:Oe(s)).reduce((l,n)=>N(l)?l:l[n],e);return k(a)||a===e?k(e[s])?r:e[s]:a},z=e=>typeof e=="boolean",A=(e,s,r)=>{let a=-1;const l=Ae(s)?[s]:Oe(s),n=l.length,c=n-1;for(;++a<n;){const y=l[a];let R=r;if(a!==c){const $=e[y];R=D($)||Array.isArray($)?$:isNaN(+l[a+1])?{}:[]}if(y==="__proto__"||y==="constructor"||y==="prototype")return;e[y]=R,e=e[y]}};const Qe={BLUR:"blur",FOCUS_OUT:"focusout"},q={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},X={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Me=M.createContext(null);Me.displayName="HookFormContext";const qt=()=>M.useContext(Me),Wt=e=>{const{children:s,...r}=e;return M.createElement(Me.Provider,{value:r},s)};var $t=(e,s,r,a=!0)=>{const l={defaultValues:s._defaultValues};for(const n in e)Object.defineProperty(l,n,{get:()=>{const c=n;return s._proxyFormState[c]!==q.all&&(s._proxyFormState[c]=!a||q.all),e[c]}});return l};const jt=typeof window<"u"?P.useLayoutEffect:P.useEffect;var Y=e=>typeof e=="string",Ht=(e,s,r,a,l)=>Y(e)?(a&&s.watch.add(e),m(r,e,l)):Array.isArray(e)?e.map(n=>(a&&s.watch.add(n),m(r,n))):(a&&(s.watchAll=!0),r),Kt=(e,s,r,a,l)=>s?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[a]:l||!0}}:{},fe=e=>Array.isArray(e)?e:[e],Xe=()=>{let e=[];return{get observers(){return e},next:l=>{for(const n of e)n.next&&n.next(l)},subscribe:l=>(e.push(l),{unsubscribe:()=>{e=e.filter(n=>n!==l)}}),unsubscribe:()=>{e=[]}}},Ne=e=>N(e)||!ft(e);function re(e,s,r=new WeakSet){if(Ne(e)||Ne(s))return e===s;if(ie(e)&&ie(s))return e.getTime()===s.getTime();const a=Object.keys(e),l=Object.keys(s);if(a.length!==l.length)return!1;if(r.has(e)||r.has(s))return!0;r.add(e),r.add(s);for(const n of a){const c=e[n];if(!l.includes(n))return!1;if(n!=="ref"){const y=s[n];if(ie(c)&&ie(y)||D(c)&&D(y)||Array.isArray(c)&&Array.isArray(y)?!re(c,y,r):c!==y)return!1}}return!0}var O=e=>D(e)&&!Object.keys(e).length,Ue=e=>e.type==="file",W=e=>typeof e=="function",_e=e=>{if(!Re)return!1;const s=e?e.ownerDocument:0;return e instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},ct=e=>e.type==="select-multiple",Pe=e=>e.type==="radio",zt=e=>Pe(e)||ye(e),Le=e=>_e(e)&&e.isConnected;function Yt(e,s){const r=s.slice(0,-1).length;let a=0;for(;a<r;)e=k(e)?a++:e[s[a++]];return e}function Jt(e){for(const s in e)if(e.hasOwnProperty(s)&&!k(e[s]))return!1;return!0}function S(e,s){const r=Array.isArray(s)?s:Ae(s)?[s]:Oe(s),a=r.length===1?e:Yt(e,r),l=r.length-1,n=r[l];return a&&delete a[n],l!==0&&(D(a)&&O(a)||Array.isArray(a)&&Jt(a))&&S(e,r.slice(0,-1)),e}var yt=e=>{for(const s in e)if(W(e[s]))return!0;return!1};function be(e,s={}){const r=Array.isArray(e);if(D(e)||r)for(const a in e)Array.isArray(e[a])||D(e[a])&&!yt(e[a])?(s[a]=Array.isArray(e[a])?[]:{},be(e[a],s[a])):N(e[a])||(s[a]=!0);return s}function mt(e,s,r){const a=Array.isArray(e);if(D(e)||a)for(const l in e)Array.isArray(e[l])||D(e[l])&&!yt(e[l])?k(s)||Ne(r[l])?r[l]=Array.isArray(e[l])?be(e[l],[]):{...be(e[l])}:mt(e[l],N(s)?{}:s[l],r[l]):r[l]=!re(e[l],s[l]);return r}var ue=(e,s)=>mt(e,s,be(s));const Ze={value:!1,isValid:!1},Ge={value:!0,isValid:!0};var ht=e=>{if(Array.isArray(e)){if(e.length>1){const s=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:s,isValid:!!s.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!k(e[0].attributes.value)?k(e[0].value)||e[0].value===""?Ge:{value:e[0].value,isValid:!0}:Ge:Ze}return Ze},gt=(e,{valueAsNumber:s,valueAsDate:r,setValueAs:a})=>k(e)?e:s?e===""?NaN:e&&+e:r&&Y(e)?new Date(e):a?a(e):e;const et={isValid:!1,value:null};var vt=e=>Array.isArray(e)?e.reduce((s,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:s,et):et;function tt(e){const s=e.ref;return Ue(s)?s.files:Pe(s)?vt(e.refs).value:ct(s)?[...s.selectedOptions].map(({value:r})=>r):ye(s)?ht(e.refs).value:gt(k(s.value)?e.ref.value:s.value,e)}var Qt=(e,s,r,a)=>{const l={};for(const n of e){const c=m(s,n);c&&A(l,n,c._f)}return{criteriaMode:r,names:[...e],fields:l,shouldUseNativeValidation:a}},xe=e=>e instanceof RegExp,de=e=>k(e)?e:xe(e)?e.source:D(e)?xe(e.value)?e.value.source:e.value:e,rt=e=>({isOnSubmit:!e||e===q.onSubmit,isOnBlur:e===q.onBlur,isOnChange:e===q.onChange,isOnAll:e===q.all,isOnTouch:e===q.onTouched});const st="AsyncFunction";var Xt=e=>!!e&&!!e.validate&&!!(W(e.validate)&&e.validate.constructor.name===st||D(e.validate)&&Object.values(e.validate).find(s=>s.constructor.name===st)),Zt=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),it=(e,s,r)=>!r&&(s.watchAll||s.watch.has(e)||[...s.watch].some(a=>e.startsWith(a)&&/^\.\w+/.test(e.slice(a.length))));const ce=(e,s,r,a)=>{for(const l of r||Object.keys(e)){const n=m(e,l);if(n){const{_f:c,...y}=n;if(c){if(c.refs&&c.refs[0]&&s(c.refs[0],l)&&!a)return!0;if(c.ref&&s(c.ref,c.name)&&!a)return!0;if(ce(y,s))break}else if(D(y)&&ce(y,s))break}}};function at(e,s,r){const a=m(e,r);if(a||Ae(r))return{error:a,name:r};const l=r.split(".");for(;l.length;){const n=l.join("."),c=m(s,n),y=m(e,n);if(c&&!Array.isArray(c)&&r!==n)return{name:r};if(y&&y.type)return{name:n,error:y};if(y&&y.root&&y.root.type)return{name:`${n}.root`,error:y.root};l.pop()}return{name:r}}var Gt=(e,s,r,a)=>{r(e);const{name:l,...n}=e;return O(n)||Object.keys(n).length>=Object.keys(s).length||Object.keys(n).find(c=>s[c]===(!a||q.all))},er=(e,s,r)=>!e||!s||e===s||fe(e).some(a=>a&&(r?a===s:a.startsWith(s)||s.startsWith(a))),tr=(e,s,r,a,l)=>l.isOnAll?!1:!r&&l.isOnTouch?!(s||e):(r?a.isOnBlur:l.isOnBlur)?!e:(r?a.isOnChange:l.isOnChange)?e:!0,rr=(e,s)=>!Te(m(e,s)).length&&S(e,s),sr=(e,s,r)=>{const a=fe(m(e,r));return A(a,"root",s[r]),A(e,r,a),e},Fe=e=>Y(e);function ot(e,s,r="validate"){if(Fe(e)||Array.isArray(e)&&e.every(Fe)||z(e)&&!e)return{type:r,message:Fe(e)?e:"",ref:s}}var oe=e=>D(e)&&!xe(e)?e:{value:e,message:""},nt=async(e,s,r,a,l,n)=>{const{ref:c,refs:y,required:R,maxLength:$,minLength:V,min:E,max:g,pattern:ne,validate:Z,name:C,valueAsNumber:G,mount:De}=e._f,F=m(r,C);if(!De||s.has(C))return{};const Q=y?y[0]:c,j=v=>{l&&Q.reportValidity&&(Q.setCustomValidity(z(v)?"":v||""),Q.reportValidity())},p={},me=Pe(c),ee=ye(c),Ee=me||ee,B=(G||Ue(c))&&k(c.value)&&k(F)||_e(c)&&c.value===""||F===""||Array.isArray(F)&&!F.length,se=Kt.bind(null,C,a,p),H=(v,b,w,L=X.maxLength,T=X.minLength)=>{const K=v?b:w;p[C]={type:v?L:T,message:K,ref:c,...se(v?L:T,K)}};if(n?!Array.isArray(F)||!F.length:R&&(!Ee&&(B||N(F))||z(F)&&!F||ee&&!ht(y).isValid||me&&!vt(y).isValid)){const{value:v,message:b}=Fe(R)?{value:!!R,message:R}:oe(R);if(v&&(p[C]={type:X.required,message:b,ref:Q,...se(X.required,b)},!a))return j(b),p}if(!B&&(!N(E)||!N(g))){let v,b;const w=oe(g),L=oe(E);if(!N(F)&&!isNaN(F)){const T=c.valueAsNumber||F&&+F;N(w.value)||(v=T>w.value),N(L.value)||(b=T<L.value)}else{const T=c.valueAsDate||new Date(F),K=he=>new Date(new Date().toDateString()+" "+he),le=c.type=="time",ae=c.type=="week";Y(w.value)&&F&&(v=le?K(F)>K(w.value):ae?F>w.value:T>new Date(w.value)),Y(L.value)&&F&&(b=le?K(F)<K(L.value):ae?F<L.value:T<new Date(L.value))}if((v||b)&&(H(!!v,w.message,L.message,X.max,X.min),!a))return j(p[C].message),p}if(($||V)&&!B&&(Y(F)||n&&Array.isArray(F))){const v=oe($),b=oe(V),w=!N(v.value)&&F.length>+v.value,L=!N(b.value)&&F.length<+b.value;if((w||L)&&(H(w,v.message,b.message),!a))return j(p[C].message),p}if(ne&&!B&&Y(F)){const{value:v,message:b}=oe(ne);if(xe(v)&&!F.match(v)&&(p[C]={type:X.pattern,message:b,ref:c,...se(X.pattern,b)},!a))return j(b),p}if(Z){if(W(Z)){const v=await Z(F,r),b=ot(v,Q);if(b&&(p[C]={...b,...se(X.validate,b.message)},!a))return j(b.message),p}else if(D(Z)){let v={};for(const b in Z){if(!O(v)&&!a)break;const w=ot(await Z[b](F,r),Q,b);w&&(v={...w,...se(b,w.message)},j(w.message),a&&(p[C]=v))}if(!O(v)&&(p[C]={ref:Q,...v},!a))return p}}return j(!0),p};const ir={mode:q.onSubmit,reValidateMode:q.onChange,shouldFocusError:!0};function ar(e={}){let s={...ir,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:W(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1},a={},l=D(s.defaultValues)||D(s.values)?I(s.defaultValues||s.values)||{}:{},n=s.shouldUnregister?{}:I(l),c={action:!1,mount:!1,watch:!1},y={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},R,$=0;const V={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let E={...V};const g={array:Xe(),state:Xe()},ne=s.criteriaMode===q.all,Z=t=>i=>{clearTimeout($),$=setTimeout(t,i)},C=async t=>{if(!s.disabled&&(V.isValid||E.isValid||t)){const i=s.resolver?O((await ee()).errors):await B(a,!0);i!==r.isValid&&g.state.next({isValid:i})}},G=(t,i)=>{!s.disabled&&(V.isValidating||V.validatingFields||E.isValidating||E.validatingFields)&&((t||Array.from(y.mount)).forEach(o=>{o&&(i?A(r.validatingFields,o,i):S(r.validatingFields,o))}),g.state.next({validatingFields:r.validatingFields,isValidating:!O(r.validatingFields)}))},De=(t,i=[],o,f,d=!0,u=!0)=>{if(f&&o&&!s.disabled){if(c.action=!0,u&&Array.isArray(m(a,t))){const h=o(m(a,t),f.argA,f.argB);d&&A(a,t,h)}if(u&&Array.isArray(m(r.errors,t))){const h=o(m(r.errors,t),f.argA,f.argB);d&&A(r.errors,t,h),rr(r.errors,t)}if((V.touchedFields||E.touchedFields)&&u&&Array.isArray(m(r.touchedFields,t))){const h=o(m(r.touchedFields,t),f.argA,f.argB);d&&A(r.touchedFields,t,h)}(V.dirtyFields||E.dirtyFields)&&(r.dirtyFields=ue(l,n)),g.state.next({name:t,isDirty:H(t,i),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else A(n,t,i)},F=(t,i)=>{A(r.errors,t,i),g.state.next({errors:r.errors})},Q=t=>{r.errors=t,g.state.next({errors:r.errors,isValid:!1})},j=(t,i,o,f)=>{const d=m(a,t);if(d){const u=m(n,t,k(o)?m(l,t):o);k(u)||f&&f.defaultChecked||i?A(n,t,i?u:tt(d._f)):w(t,u),c.mount&&C()}},p=(t,i,o,f,d)=>{let u=!1,h=!1;const _={name:t};if(!s.disabled){if(!o||f){(V.isDirty||E.isDirty)&&(h=r.isDirty,r.isDirty=_.isDirty=H(),u=h!==_.isDirty);const x=re(m(l,t),i);h=!!m(r.dirtyFields,t),x?S(r.dirtyFields,t):A(r.dirtyFields,t,!0),_.dirtyFields=r.dirtyFields,u=u||(V.dirtyFields||E.dirtyFields)&&h!==!x}if(o){const x=m(r.touchedFields,t);x||(A(r.touchedFields,t,o),_.touchedFields=r.touchedFields,u=u||(V.touchedFields||E.touchedFields)&&x!==o)}u&&d&&g.state.next(_)}return u?_:{}},me=(t,i,o,f)=>{const d=m(r.errors,t),u=(V.isValid||E.isValid)&&z(i)&&r.isValid!==i;if(s.delayError&&o?(R=Z(()=>F(t,o)),R(s.delayError)):(clearTimeout($),R=null,o?A(r.errors,t,o):S(r.errors,t)),(o?!re(d,o):d)||!O(f)||u){const h={...f,...u&&z(i)?{isValid:i}:{},errors:r.errors,name:t};r={...r,...h},g.state.next(h)}},ee=async t=>{G(t,!0);const i=await s.resolver(n,s.context,Qt(t||y.mount,a,s.criteriaMode,s.shouldUseNativeValidation));return G(t),i},Ee=async t=>{const{errors:i}=await ee(t);if(t)for(const o of t){const f=m(i,o);f?A(r.errors,o,f):S(r.errors,o)}else r.errors=i;return i},B=async(t,i,o={valid:!0})=>{for(const f in t){const d=t[f];if(d){const{_f:u,...h}=d;if(u){const _=y.array.has(u.name),x=d._f&&Xt(d._f);x&&V.validatingFields&&G([f],!0);const U=await nt(d,y.disabled,n,ne,s.shouldUseNativeValidation&&!i,_);if(x&&V.validatingFields&&G([f]),U[u.name]&&(o.valid=!1,i))break;!i&&(m(U,u.name)?_?sr(r.errors,U,u.name):A(r.errors,u.name,U[u.name]):S(r.errors,u.name))}!O(h)&&await B(h,i,o)}}return o.valid},se=()=>{for(const t of y.unMount){const i=m(a,t);i&&(i._f.refs?i._f.refs.every(o=>!Le(o)):!Le(i._f.ref))&&Se(t)}y.unMount=new Set},H=(t,i)=>!s.disabled&&(t&&i&&A(n,t,i),!re(he(),l)),v=(t,i,o)=>Ht(t,y,{...c.mount?n:k(i)?l:Y(t)?{[t]:i}:i},o,i),b=t=>Te(m(c.mount?n:l,t,s.shouldUnregister?m(l,t,[]):[])),w=(t,i,o={})=>{const f=m(a,t);let d=i;if(f){const u=f._f;u&&(!u.disabled&&A(n,t,gt(i,u)),d=_e(u.ref)&&N(i)?"":i,ct(u.ref)?[...u.ref.options].forEach(h=>h.selected=d.includes(h.value)):u.refs?ye(u.ref)?u.refs.forEach(h=>{(!h.defaultChecked||!h.disabled)&&(Array.isArray(d)?h.checked=!!d.find(_=>_===h.value):h.checked=d===h.value||!!d)}):u.refs.forEach(h=>h.checked=h.value===d):Ue(u.ref)?u.ref.value="":(u.ref.value=d,u.ref.type||g.state.next({name:t,values:I(n)})))}(o.shouldDirty||o.shouldTouch)&&p(t,d,o.shouldTouch,o.shouldDirty,!0),o.shouldValidate&&ae(t)},L=(t,i,o)=>{for(const f in i){if(!i.hasOwnProperty(f))return;const d=i[f],u=t+"."+f,h=m(a,u);(y.array.has(t)||D(d)||h&&!h._f)&&!ie(d)?L(u,d,o):w(u,d,o)}},T=(t,i,o={})=>{const f=m(a,t),d=y.array.has(t),u=I(i);A(n,t,u),d?(g.array.next({name:t,values:I(n)}),(V.isDirty||V.dirtyFields||E.isDirty||E.dirtyFields)&&o.shouldDirty&&g.state.next({name:t,dirtyFields:ue(l,n),isDirty:H(t,u)})):f&&!f._f&&!N(u)?L(t,u,o):w(t,u,o),it(t,y)&&g.state.next({...r}),g.state.next({name:c.mount?t:void 0,values:I(n)})},K=async t=>{c.mount=!0;const i=t.target;let o=i.name,f=!0;const d=m(a,o),u=x=>{f=Number.isNaN(x)||ie(x)&&isNaN(x.getTime())||re(x,m(n,o,x))},h=rt(s.mode),_=rt(s.reValidateMode);if(d){let x,U;const ge=i.type?tt(d._f):Mt(t),te=t.type===Qe.BLUR||t.type===Qe.FOCUS_OUT,Lt=!Zt(d._f)&&!s.resolver&&!m(r.errors,o)&&!d._f.deps||tr(te,m(r.touchedFields,o),r.isSubmitted,_,h),pe=it(o,y,te);A(n,o,ge),te?(d._f.onBlur&&d._f.onBlur(t),R&&R(0)):d._f.onChange&&d._f.onChange(t);const Ie=p(o,ge,te),Nt=!O(Ie)||pe;if(!te&&g.state.next({name:o,type:t.type,values:I(n)}),Lt)return(V.isValid||E.isValid)&&(s.mode==="onBlur"?te&&C():te||C()),Nt&&g.state.next({name:o,...pe?{}:Ie});if(!te&&pe&&g.state.next({...r}),s.resolver){const{errors:Ye}=await ee([o]);if(u(ge),f){const Rt=at(r.errors,a,o),Je=at(Ye,a,Rt.name||o);x=Je.error,o=Je.name,U=O(Ye)}}else G([o],!0),x=(await nt(d,y.disabled,n,ne,s.shouldUseNativeValidation))[o],G([o]),u(ge),f&&(x?U=!1:(V.isValid||E.isValid)&&(U=await B(a,!0)));f&&(d._f.deps&&ae(d._f.deps),me(o,U,x,Ie))}},le=(t,i)=>{if(m(r.errors,i)&&t.focus)return t.focus(),1},ae=async(t,i={})=>{let o,f;const d=fe(t);if(s.resolver){const u=await Ee(k(t)?t:d);o=O(u),f=t?!d.some(h=>m(u,h)):o}else t?(f=(await Promise.all(d.map(async u=>{const h=m(a,u);return await B(h&&h._f?{[u]:h}:h)}))).every(Boolean),!(!f&&!r.isValid)&&C()):f=o=await B(a);return g.state.next({...!Y(t)||(V.isValid||E.isValid)&&o!==r.isValid?{}:{name:t},...s.resolver||!t?{isValid:o}:{},errors:r.errors}),i.shouldFocus&&!f&&ce(a,le,t?d:y.mount),f},he=t=>{const i={...c.mount?n:l};return k(t)?i:Y(t)?m(i,t):t.map(o=>m(i,o))},Be=(t,i)=>({invalid:!!m((i||r).errors,t),isDirty:!!m((i||r).dirtyFields,t),error:m((i||r).errors,t),isValidating:!!m(r.validatingFields,t),isTouched:!!m((i||r).touchedFields,t)}),Dt=t=>{t&&fe(t).forEach(i=>S(r.errors,i)),g.state.next({errors:t?r.errors:{}})},qe=(t,i,o)=>{const f=(m(a,t,{_f:{}})._f||{}).ref,d=m(r.errors,t)||{},{ref:u,message:h,type:_,...x}=d;A(r.errors,t,{...x,...i,ref:f}),g.state.next({name:t,errors:r.errors,isValid:!1}),o&&o.shouldFocus&&f&&f.focus&&f.focus()},Et=(t,i)=>W(t)?g.state.subscribe({next:o=>t(v(void 0,i),o)}):v(t,i,!0),We=t=>g.state.subscribe({next:i=>{er(t.name,i.name,t.exact)&&Gt(i,t.formState||V,It,t.reRenderRoot)&&t.callback({values:{...n},...r,...i})}}).unsubscribe,St=t=>(c.mount=!0,E={...E,...t.formState},We({...t,formState:E})),Se=(t,i={})=>{for(const o of t?fe(t):y.mount)y.mount.delete(o),y.array.delete(o),i.keepValue||(S(a,o),S(n,o)),!i.keepError&&S(r.errors,o),!i.keepDirty&&S(r.dirtyFields,o),!i.keepTouched&&S(r.touchedFields,o),!i.keepIsValidating&&S(r.validatingFields,o),!s.shouldUnregister&&!i.keepDefaultValue&&S(l,o);g.state.next({values:I(n)}),g.state.next({...r,...i.keepDirty?{isDirty:H()}:{}}),!i.keepIsValid&&C()},$e=({disabled:t,name:i})=>{(z(t)&&c.mount||t||y.disabled.has(i))&&(t?y.disabled.add(i):y.disabled.delete(i))},ke=(t,i={})=>{let o=m(a,t);const f=z(i.disabled)||z(s.disabled);return A(a,t,{...o||{},_f:{...o&&o._f?o._f:{ref:{name:t}},name:t,mount:!0,...i}}),y.mount.add(t),o?$e({disabled:z(i.disabled)?i.disabled:s.disabled,name:t}):j(t,!0,i.value),{...f?{disabled:i.disabled||s.disabled}:{},...s.progressive?{required:!!i.required,min:de(i.min),max:de(i.max),minLength:de(i.minLength),maxLength:de(i.maxLength),pattern:de(i.pattern)}:{},name:t,onChange:K,onBlur:K,ref:d=>{if(d){ke(t,i),o=m(a,t);const u=k(d.value)&&d.querySelectorAll&&d.querySelectorAll("input,select,textarea")[0]||d,h=zt(u),_=o._f.refs||[];if(h?_.find(x=>x===u):u===o._f.ref)return;A(a,t,{_f:{...o._f,...h?{refs:[..._.filter(Le),u,...Array.isArray(m(l,t))?[{}]:[]],ref:{type:u.type,name:t}}:{ref:u}}}),j(t,!1,void 0,u)}else o=m(a,t,{}),o._f&&(o._f.mount=!1),(s.shouldUnregister||i.shouldUnregister)&&!(Pt(y.array,t)&&c.action)&&y.unMount.add(t)}}},Ce=()=>s.shouldFocusError&&ce(a,le,y.mount),kt=t=>{z(t)&&(g.state.next({disabled:t}),ce(a,(i,o)=>{const f=m(a,o);f&&(i.disabled=f._f.disabled||t,Array.isArray(f._f.refs)&&f._f.refs.forEach(d=>{d.disabled=f._f.disabled||t}))},0,!1))},je=(t,i)=>async o=>{let f;o&&(o.preventDefault&&o.preventDefault(),o.persist&&o.persist());let d=I(n);if(g.state.next({isSubmitting:!0}),s.resolver){const{errors:u,values:h}=await ee();r.errors=u,d=I(h)}else await B(a);if(y.disabled.size)for(const u of y.disabled)S(d,u);if(S(r.errors,"root"),O(r.errors)){g.state.next({errors:{}});try{await t(d,o)}catch(u){f=u}}else i&&await i({...r.errors},o),Ce(),setTimeout(Ce);if(g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:O(r.errors)&&!f,submitCount:r.submitCount+1,errors:r.errors}),f)throw f},Ct=(t,i={})=>{m(a,t)&&(k(i.defaultValue)?T(t,I(m(l,t))):(T(t,i.defaultValue),A(l,t,I(i.defaultValue))),i.keepTouched||S(r.touchedFields,t),i.keepDirty||(S(r.dirtyFields,t),r.isDirty=i.defaultValue?H(t,I(m(l,t))):H()),i.keepError||(S(r.errors,t),V.isValid&&C()),g.state.next({...r}))},He=(t,i={})=>{const o=t?I(t):l,f=I(o),d=O(t),u=d?l:f;if(i.keepDefaultValues||(l=o),!i.keepValues){if(i.keepDirtyValues){const h=new Set([...y.mount,...Object.keys(ue(l,n))]);for(const _ of Array.from(h))m(r.dirtyFields,_)?A(u,_,m(n,_)):T(_,m(u,_))}else{if(Re&&k(t))for(const h of y.mount){const _=m(a,h);if(_&&_._f){const x=Array.isArray(_._f.refs)?_._f.refs[0]:_._f.ref;if(_e(x)){const U=x.closest("form");if(U){U.reset();break}}}}if(i.keepFieldsRef)for(const h of y.mount)T(h,m(u,h));else a={}}n=s.shouldUnregister?i.keepDefaultValues?I(l):{}:I(u),g.array.next({values:{...u}}),g.state.next({values:{...u}})}y={mount:i.keepDirtyValues?y.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!V.isValid||!!i.keepIsValid||!!i.keepDirtyValues,c.watch=!!s.shouldUnregister,g.state.next({submitCount:i.keepSubmitCount?r.submitCount:0,isDirty:d?!1:i.keepDirty?r.isDirty:!!(i.keepDefaultValues&&!re(t,l)),isSubmitted:i.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:d?{}:i.keepDirtyValues?i.keepDefaultValues&&n?ue(l,n):r.dirtyFields:i.keepDefaultValues&&t?ue(l,t):i.keepDirty?r.dirtyFields:{},touchedFields:i.keepTouched?r.touchedFields:{},errors:i.keepErrors?r.errors:{},isSubmitSuccessful:i.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Ke=(t,i)=>He(W(t)?t(n):t,i),pt=(t,i={})=>{const o=m(a,t),f=o&&o._f;if(f){const d=f.refs?f.refs[0]:f.ref;d.focus&&(d.focus(),i.shouldSelect&&W(d.select)&&d.select())}},It=t=>{r={...r,...t}},ze={control:{register:ke,unregister:Se,getFieldState:Be,handleSubmit:je,setError:qe,_subscribe:We,_runSchema:ee,_focusError:Ce,_getWatch:v,_getDirty:H,_setValid:C,_setFieldArray:De,_setDisabledField:$e,_setErrors:Q,_getFieldArray:b,_reset:He,_resetDefaultValues:()=>W(s.defaultValues)&&s.defaultValues().then(t=>{Ke(t,s.resetOptions),g.state.next({isLoading:!1})}),_removeUnmounted:se,_disableForm:kt,_subjects:g,_proxyFormState:V,get _fields(){return a},get _formValues(){return n},get _state(){return c},set _state(t){c=t},get _defaultValues(){return l},get _names(){return y},set _names(t){y=t},get _formState(){return r},get _options(){return s},set _options(t){s={...s,...t}}},subscribe:St,trigger:ae,register:ke,handleSubmit:je,watch:Et,setValue:T,getValues:he,reset:Ke,resetField:Ct,clearErrors:Dt,unregister:Se,setError:qe,setFocus:pt,getFieldState:Be};return{...ze,formControl:ze}}function or(e={}){const s=M.useRef(void 0),r=M.useRef(void 0),[a,l]=M.useState({isDirty:!1,isValidating:!1,isLoading:W(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:W(e.defaultValues)?void 0:e.defaultValues});if(!s.current)if(e.formControl)s.current={...e.formControl,formState:a},e.defaultValues&&!W(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:c,...y}=ar(e);s.current={...y,formState:a}}const n=s.current.control;return n._options=e,jt(()=>{const c=n._subscribe({formState:n._proxyFormState,callback:()=>l({...n._formState}),reRenderRoot:!0});return l(y=>({...y,isReady:!0})),n._formState.isReady=!0,c},[n]),M.useEffect(()=>n._disableForm(e.disabled),[n,e.disabled]),M.useEffect(()=>{e.mode&&(n._options.mode=e.mode),e.reValidateMode&&(n._options.reValidateMode=e.reValidateMode)},[n,e.mode,e.reValidateMode]),M.useEffect(()=>{e.errors&&(n._setErrors(e.errors),n._focusError())},[n,e.errors]),M.useEffect(()=>{e.shouldUnregister&&n._subjects.state.next({values:n._getWatch()})},[n,e.shouldUnregister]),M.useEffect(()=>{if(n._proxyFormState.isDirty){const c=n._getDirty();c!==a.isDirty&&n._subjects.state.next({isDirty:c})}},[n,a.isDirty]),M.useEffect(()=>{e.values&&!re(e.values,r.current)?(n._reset(e.values,{keepFieldsRef:!0,...n._options.resetOptions}),r.current=e.values,l(c=>({...c}))):n._resetDefaultValues()},[n,e.values]),M.useEffect(()=>{n._state.mount||(n._setValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next({...n._formState})),n._removeUnmounted()}),s.current.formState=$t(a,n),s.current}const Ft=Wt,nr=P.createContext({}),we=()=>{const e=P.useContext(nr),s=P.useContext(_t),{getFieldState:r,formState:a}=qt(),l=r(e.name,a);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:n}=s;return{id:n,name:e.name,formItemId:`${n}-form-item`,formDescriptionId:`${n}-form-item-description`,formMessageId:`${n}-form-item-message`,...l}},_t=P.createContext({}),bt=P.forwardRef(({className:e,...s},r)=>{const a=P.useId();return J.jsx(_t.Provider,{value:{id:a},children:J.jsx("div",{ref:r,className:Ve("space-y-2",e),...s})})});bt.displayName="FormItem";const xt=P.forwardRef(({className:e,...s},r)=>{const{error:a,formItemId:l}=we();return J.jsx(Ot,{ref:r,className:Ve(a&&"text-destructive",e),htmlFor:l,...s})});xt.displayName="FormLabel";const Vt=P.forwardRef(({...e},s)=>{const{error:r,formItemId:a,formDescriptionId:l,formMessageId:n}=we();return J.jsx(Tt,{ref:s,id:a,"aria-describedby":r?`${l} ${n}`:`${l}`,"aria-invalid":!!r,...e})});Vt.displayName="FormControl";const At=P.forwardRef(({className:e,...s},r)=>{const{formDescriptionId:a}=we();return J.jsx("p",{ref:r,id:a,className:Ve("text-sm text-muted-foreground",e),...s})});At.displayName="FormDescription";const wt=P.forwardRef(({className:e,children:s,...r},a)=>{const{error:l,formMessageId:n}=we(),c=l?String(l==null?void 0:l.message):s;return c?J.jsx("p",{ref:a,id:n,className:Ve("text-sm font-medium text-destructive",e),...r,children:c}):null});wt.displayName="FormMessage";bt.__docgenInfo={description:"",methods:[],displayName:"FormItem"};xt.__docgenInfo={description:"",methods:[],displayName:"FormLabel"};Vt.__docgenInfo={description:"",methods:[],displayName:"FormControl"};At.__docgenInfo={description:"",methods:[],displayName:"FormDescription"};wt.__docgenInfo={description:"",methods:[],displayName:"FormMessage"};const vr={title:"Components/Form",component:Ft},lr=()=>{const e=or();return J.jsx(Ft,{...e,children:J.jsx("div",{children:"Form content here"})})},ve={render:()=>J.jsx("div",{className:"p-4",children:J.jsx(lr,{})})};var lt,ut,dt;ve.parameters={...ve.parameters,docs:{...(lt=ve.parameters)==null?void 0:lt.docs,source:{originalSource:`{
  render: () => <div className="p-4"><Example /></div>
}`,...(dt=(ut=ve.parameters)==null?void 0:ut.docs)==null?void 0:dt.source}}};const Fr=["Default"];export{ve as Default,Fr as __namedExportsOrder,vr as default};
